---
title: Photography Styles Recognizer
layout: page
---

<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Photography Styles Recognizer</title>
</head>
<body>
    <input id="photo" type="file">
    <div id="show"></div>
    <div id="results"></div>

    <script>
        async function loaded(reader) {
            try {
                const response = await fetch("https://myte-ic-photography-styles.hf.space/run/predict", {
                    method: "POST",
                    headers: {
                        "Content-Type": "application/json"
                    },
                    body: JSON.stringify({
                        data: [reader.result]
                    })
                });

                if (!response.ok) {
                    throw new Error("Error: HTTP status " + response.status);
                }

                const json = await response.json();
                const label = json.data[0].label;

                results.innerHTML += `<p>${label}</p>`;
                results.innerHTML += `<p>${json.data[0].confidences[0].confidence}</p>`;
            } catch (error) {
                console.error("An error occurred: ", error);
            }
        }

        async function load_image(reader) {
            show.innerHTML = `<img src="${reader.result}" width="500" alt="">`
        }

        function read() {
            const reader = new FileReader();

            reader.addEventListener("load", () => load_image(reader))
            reader.addEventListener("load", () => loaded(reader))
            reader.readAsDataURL(photo.files[0]);
        }

        photo.addEventListener("input", read);
    </script>
</body>
</html>
